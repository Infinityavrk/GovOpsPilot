<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS GenAI Workflow Demo - Natural Text ‚Üí Bedrock/Comprehend ‚Üí DynamoDB ‚Üí EventBridge ‚Üí Lambda + SageMaker ‚Üí SNS ‚Üí QuickSight</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .workflow-diagram {
            background: #f8f9fa;
            padding: 30px;
            text-align: center;
        }

        .workflow-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }

        .workflow-step {
            flex: 1;
            min-width: 150px;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .workflow-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .workflow-step.active {
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            color: white;
            transform: scale(1.05);
        }

        .workflow-step.completed {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
            color: white;
        }

        .workflow-step.error {
            background: linear-gradient(135deg, #fa709a, #fee140);
            color: white;
        }

        .step-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .step-title {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .step-desc {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .arrow {
            font-size: 1.5em;
            color: #666;
            margin: 0 10px;
        }

        .input-section {
            padding: 30px;
            background: white;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .input-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            resize: vertical;
            min-height: 120px;
            transition: border-color 0.3s ease;
        }

        .input-group textarea:focus {
            outline: none;
            border-color: #4facfe;
        }

        .input-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 16px;
            background: white;
        }

        .quick-examples {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .example-btn {
            padding: 8px 15px;
            background: #f1f3f4;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .example-btn:hover {
            background: #4facfe;
            color: white;
        }

        .process-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 20px auto;
        }

        .process-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .process-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .results-section {
            padding: 30px;
            background: #f8f9fa;
            display: none;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .result-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .result-card h3 {
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            font-weight: 500;
            color: #666;
        }

        .result-value {
            font-weight: 600;
            color: #333;
        }

        .priority-p1 { color: #e74c3c; }
        .priority-p2 { color: #f39c12; }
        .priority-p3 { color: #3498db; }
        .priority-p4 { color: #27ae60; }

        .risk-high { color: #e74c3c; font-weight: bold; }
        .risk-medium { color: #f39c12; font-weight: bold; }
        .risk-low { color: #27ae60; font-weight: bold; }

        .sentiment-positive { color: #27ae60; }
        .sentiment-negative { color: #e74c3c; }
        .sentiment-neutral { color: #7f8c8d; }

        .loading {
            text-align: center;
            padding: 40px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #4facfe;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e1e8ed;
            border-radius: 3px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            width: 0%;
            transition: width 0.5s ease;
        }

        .alert-banner {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }

        .alert-banner.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .services-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .service-status {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .service-status.active {
            background: linear-gradient(135deg, #43e97b, #38f9d7);
            color: white;
        }

        .service-status.fallback {
            background: linear-gradient(135deg, #ffa726, #fb8c00);
            color: white;
        }

        .service-status.error {
            background: linear-gradient(135deg, #ef5350, #e53935);
            color: white;
        }

        @media (max-width: 768px) {
            .workflow-steps {
                flex-direction: column;
            }
            
            .arrow {
                transform: rotate(90deg);
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ AWS GenAI Workflow Demo</h1>
            <p>Natural Text ‚Üí Bedrock/Comprehend ‚Üí DynamoDB ‚Üí EventBridge ‚Üí Lambda + SageMaker ‚Üí SNS ‚Üí QuickSight</p>
        </div>

        <div class="workflow-diagram">
            <h2>Complete GenAI Pipeline</h2>
            <div class="workflow-steps">
                <div class="workflow-step" id="step-1">
                    <div class="step-icon">üìù</div>
                    <div class="step-title">Natural Text</div>
                    <div class="step-desc">User Input</div>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="workflow-step" id="step-2">
                    <div class="step-icon">üß†</div>
                    <div class="step-title">Bedrock + Comprehend</div>
                    <div class="step-desc">AI Analysis</div>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="workflow-step" id="step-3">
                    <div class="step-icon">üíæ</div>
                    <div class="step-title">DynamoDB</div>
                    <div class="step-desc">Ticket Storage</div>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="workflow-step" id="step-4">
                    <div class="step-icon">üì°</div>
                    <div class="step-title">EventBridge</div>
                    <div class="step-desc">Event Trigger</div>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="workflow-step" id="step-5">
                    <div class="step-icon">‚ö°</div>
                    <div class="step-title">Lambda</div>
                    <div class="step-desc">Processing</div>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="workflow-step" id="step-6">
                    <div class="step-icon">ü§ñ</div>
                    <div class="step-title">SageMaker</div>
                    <div class="step-desc">ML Prediction</div>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="workflow-step" id="step-7">
                    <div class="step-icon">üö®</div>
                    <div class="step-title">SNS Alert</div>
                    <div class="step-desc">Notifications</div>
                </div>
                <div class="arrow">‚Üí</div>
                <div class="workflow-step" id="step-8">
                    <div class="step-icon">üìä</div>
                    <div class="step-title">QuickSight</div>
                    <div class="step-desc">Visualization</div>
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <div class="input-section">
            <h2>üéØ Test the GenAI Workflow</h2>
            
            <div class="input-group">
                <label for="user-input">Enter your support ticket or issue description:</label>
                <textarea id="user-input" placeholder="Describe your issue here... For example: 'Aadhaar authentication services are down in Indore - this is critical!'"></textarea>
                
                <div class="quick-examples">
                    <button class="example-btn" onclick="setExample('critical')">üî¥ Critical Issue</button>
                    <button class="example-btn" onclick="setExample('payment')">üí≥ Payment Problem</button>
                    <button class="example-btn" onclick="setExample('portal')">üåê Portal Issue</button>
                    <button class="example-btn" onclick="setExample('positive')">üòä Positive Feedback</button>
                </div>
            </div>

            <div class="input-group">
                <label for="source-select">Source:</label>
                <select id="source-select">
                    <option value="web_portal">Web Portal</option>
                    <option value="email">Email</option>
                    <option value="phone">Phone</option>
                    <option value="emergency_hotline">Emergency Hotline</option>
                    <option value="feedback_form">Feedback Form</option>
                </select>
            </div>

            <button class="process-btn" onclick="processWorkflow()" id="process-btn">
                üöÄ Process with GenAI Workflow
            </button>

            <div class="alert-banner" id="alert-banner">
                <strong>üö® High Risk Alert!</strong> This ticket has been flagged for immediate attention.
            </div>
        </div>

        <div class="results-section" id="results-section">
            <h2>üìä Workflow Results</h2>
            
            <div class="services-status" id="services-status">
                <div class="service-status" id="bedrock-status">
                    <div>üß† Bedrock</div>
                    <div>Claude 3 Sonnet</div>
                </div>
                <div class="service-status" id="comprehend-status">
                    <div>üìä Comprehend</div>
                    <div>NLP Analysis</div>
                </div>
                <div class="service-status" id="sagemaker-status">
                    <div>ü§ñ SageMaker</div>
                    <div>ML Prediction</div>
                </div>
                <div class="service-status" id="fallback-status">
                    <div>üîÑ Fallback</div>
                    <div>Rule-based AI</div>
                </div>
            </div>

            <div class="results-grid">
                <div class="result-card">
                    <h3>üé´ Ticket Information</h3>
                    <div class="result-item">
                        <span class="result-label">Ticket ID:</span>
                        <span class="result-value" id="ticket-id">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Status:</span>
                        <span class="result-value" id="ticket-status">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Processing Time:</span>
                        <span class="result-value" id="processing-time">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Steps Completed:</span>
                        <span class="result-value" id="steps-completed">-</span>
                    </div>
                </div>

                <div class="result-card">
                    <h3>üß† AI Classification</h3>
                    <div class="result-item">
                        <span class="result-label">Department:</span>
                        <span class="result-value" id="department">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Priority:</span>
                        <span class="result-value" id="priority">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Category:</span>
                        <span class="result-value" id="category">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Urgency:</span>
                        <span class="result-value" id="urgency">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Sentiment:</span>
                        <span class="result-value" id="sentiment">-</span>
                    </div>
                </div>

                <div class="result-card">
                    <h3>ü§ñ ML Prediction</h3>
                    <div class="result-item">
                        <span class="result-label">Breach Probability:</span>
                        <span class="result-value" id="breach-probability">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Model Confidence:</span>
                        <span class="result-value" id="ml-confidence">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Model Used:</span>
                        <span class="result-value" id="model-used">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Risk Level:</span>
                        <span class="result-value" id="risk-level">-</span>
                    </div>
                </div>

                <div class="result-card">
                    <h3>üö® Alert Decision</h3>
                    <div class="result-item">
                        <span class="result-label">Alert Needed:</span>
                        <span class="result-value" id="alert-needed">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Alert Level:</span>
                        <span class="result-value" id="alert-level">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Channels:</span>
                        <span class="result-value" id="alert-channels">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Escalation:</span>
                        <span class="result-value" id="escalation-needed">-</span>
                    </div>
                </div>
            </div>

            <div class="result-card" style="margin-top: 20px;">
                <h3>üí° Recommended Actions</h3>
                <div id="recommended-actions">
                    <p>Processing...</p>
                </div>
            </div>
        </div>

        <div class="loading" id="loading" style="display: none;">
            <div class="spinner"></div>
            <p>Processing your request through the GenAI pipeline...</p>
            <p id="current-step">Initializing workflow...</p>
        </div>
    </div>

    <script>
        const examples = {
            critical: "URGENT: Aadhaar authentication services are completely down across Madhya Pradesh! Thousands of citizens cannot access government services. This is a critical emergency affecting multiple districts including Indore, Bhopal, and Gwalior.",
            payment: "Payment gateway is experiencing intermittent timeout issues in Bhopal region. Business transactions are failing about 30% of the time since this morning. Merchants are reporting significant revenue loss.",
            portal: "Citizens are reporting slow loading times and occasional error messages when trying to access the digital services portal from Gwalior region. The issue seems to be affecting the login functionality.",
            positive: "Thank you for the excellent improvements to the digital services portal! The new interface is much faster and user-friendly. Citizens in our district are very satisfied with the enhanced experience."
        };

        function setExample(type) {
            document.getElementById('user-input').value = examples[type];
            
            // Set appropriate source
            const sourceSelect = document.getElementById('source-select');
            if (type === 'critical') {
                sourceSelect.value = 'emergency_hotline';
            } else if (type === 'payment') {
                sourceSelect.value = 'web_portal';
            } else if (type === 'positive') {
                sourceSelect.value = 'feedback_form';
            } else {
                sourceSelect.value = 'web_portal';
            }
        }

        async function processWorkflow() {
            const userInput = document.getElementById('user-input').value.trim();
            const source = document.getElementById('source-select').value;
            
            if (!userInput) {
                alert('Please enter a support ticket description.');
                return;
            }

            // Show loading and hide results
            document.getElementById('loading').style.display = 'block';
            document.getElementById('results-section').style.display = 'none';
            document.getElementById('process-btn').disabled = true;
            document.getElementById('alert-banner').classList.remove('show');

            // Reset workflow steps
            resetWorkflowSteps();

            try {
                // Simulate the complete GenAI workflow
                await simulateWorkflow(userInput, source);
            } catch (error) {
                console.error('Workflow error:', error);
                alert('An error occurred during processing. Please try again.');
            } finally {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('process-btn').disabled = false;
            }
        }

        function resetWorkflowSteps() {
            for (let i = 1; i <= 8; i++) {
                const step = document.getElementById(`step-${i}`);
                step.classList.remove('active', 'completed', 'error');
            }
            document.getElementById('progress-fill').style.width = '0%';
        }

        async function simulateWorkflow(userInput, source) {
            const steps = [
                { id: 1, name: 'Natural Text Input', duration: 500 },
                { id: 2, name: 'Bedrock + Comprehend Analysis', duration: 2000 },
                { id: 3, name: 'DynamoDB Ticket Storage', duration: 800 },
                { id: 4, name: 'EventBridge Trigger', duration: 600 },
                { id: 5, name: 'Lambda Processing', duration: 1000 },
                { id: 6, name: 'SageMaker ML Prediction', duration: 1500 },
                { id: 7, name: 'SNS Alert Decision', duration: 700 },
                { id: 8, name: 'QuickSight Data Prep', duration: 900 }
            ];

            for (let i = 0; i < steps.length; i++) {
                const step = steps[i];
                
                // Update current step
                document.getElementById('current-step').textContent = `Step ${step.id}: ${step.name}...`;
                
                // Activate current step
                const stepElement = document.getElementById(`step-${step.id}`);
                stepElement.classList.add('active');
                
                // Update progress
                const progress = ((i + 1) / steps.length) * 100;
                document.getElementById('progress-fill').style.width = `${progress}%`;
                
                // Wait for step duration
                await new Promise(resolve => setTimeout(resolve, step.duration));
                
                // Complete current step
                stepElement.classList.remove('active');
                stepElement.classList.add('completed');
            }

            // Generate and display results
            const results = generateMockResults(userInput, source);
            displayResults(results);
        }

        function generateMockResults(userInput, source) {
            const text = userInput.toLowerCase();
            
            // Department classification
            let department = 'Other';
            if (text.includes('aadhaar') || text.includes('authentication') || text.includes('identity')) {
                department = 'UIDAI';
            } else if (text.includes('payment') || text.includes('gateway') || text.includes('transaction')) {
                department = 'MeiTY';
            } else if (text.includes('portal') || text.includes('website') || text.includes('digital')) {
                department = 'DigitalMP';
            }

            // Priority classification
            let priority = 'P3';
            let urgency = 5;
            if (text.includes('critical') || text.includes('urgent') || text.includes('down') || text.includes('emergency')) {
                priority = 'P1';
                urgency = 9;
            } else if (text.includes('timeout') || text.includes('issue') || text.includes('problem')) {
                priority = 'P2';
                urgency = 7;
            } else if (text.includes('thank') || text.includes('excellent') || text.includes('good')) {
                priority = 'P4';
                urgency = 2;
            }

            // Sentiment analysis
            let sentiment = 'neutral';
            if (text.includes('thank') || text.includes('excellent') || text.includes('good') || text.includes('satisfied')) {
                sentiment = 'positive';
            } else if (text.includes('critical') || text.includes('urgent') || text.includes('problem') || text.includes('issue')) {
                sentiment = 'negative';
            }

            // Category
            let category = 'Other';
            if (text.includes('authentication') || text.includes('aadhaar')) {
                category = 'Authentication';
            } else if (text.includes('payment') || text.includes('gateway')) {
                category = 'Payment';
            } else if (text.includes('portal') || text.includes('website')) {
                category = 'Portal';
            }

            // ML Prediction
            let breachProbability = 0.3;
            if (priority === 'P1') breachProbability = 0.85;
            else if (priority === 'P2') breachProbability = 0.6;
            else if (priority === 'P4') breachProbability = 0.15;

            // Add some randomness
            breachProbability += (Math.random() - 0.5) * 0.2;
            breachProbability = Math.max(0, Math.min(1, breachProbability));

            const ticketId = `TKT-${new Date().toISOString().slice(0, 10).replace(/-/g, '')}-${Math.random().toString(36).substr(2, 8)}`;

            return {
                ticketId,
                status: 'SUCCESS',
                processingTime: (Math.random() * 3 + 1).toFixed(2),
                stepsCompleted: '8/8',
                department,
                priority,
                category,
                urgency,
                sentiment,
                breachProbability,
                mlConfidence: (Math.random() * 0.2 + 0.8).toFixed(3),
                modelUsed: Math.random() > 0.7 ? 'sagemaker' : 'intelligent_fallback',
                alertNeeded: breachProbability > 0.7,
                alertLevel: breachProbability > 0.9 ? 'critical' : breachProbability > 0.7 ? 'high' : breachProbability > 0.5 ? 'medium' : 'none',
                escalationNeeded: breachProbability > 0.8,
                servicesUsed: {
                    bedrock: Math.random() > 0.6,
                    comprehend: Math.random() > 0.3,
                    sagemaker: Math.random() > 0.7,
                    fallback: true
                }
            };
        }

        function displayResults(results) {
            // Update service status
            updateServiceStatus(results.servicesUsed);

            // Update ticket information
            document.getElementById('ticket-id').textContent = results.ticketId;
            document.getElementById('ticket-status').textContent = results.status;
            document.getElementById('processing-time').textContent = `${results.processingTime}s`;
            document.getElementById('steps-completed').textContent = results.stepsCompleted;

            // Update AI classification
            document.getElementById('department').textContent = results.department;
            const priorityElement = document.getElementById('priority');
            priorityElement.textContent = results.priority;
            priorityElement.className = `result-value priority-${results.priority.toLowerCase()}`;
            
            document.getElementById('category').textContent = results.category;
            document.getElementById('urgency').textContent = `${results.urgency}/10`;
            
            const sentimentElement = document.getElementById('sentiment');
            sentimentElement.textContent = results.sentiment;
            sentimentElement.className = `result-value sentiment-${results.sentiment}`;

            // Update ML prediction
            const breachElement = document.getElementById('breach-probability');
            breachElement.textContent = `${(results.breachProbability * 100).toFixed(1)}%`;
            
            document.getElementById('ml-confidence').textContent = `${(results.mlConfidence * 100).toFixed(1)}%`;
            document.getElementById('model-used').textContent = results.modelUsed;
            
            const riskElement = document.getElementById('risk-level');
            const riskLevel = results.breachProbability > 0.7 ? 'High' : results.breachProbability > 0.4 ? 'Medium' : 'Low';
            riskElement.textContent = riskLevel;
            riskElement.className = `result-value risk-${riskLevel.toLowerCase()}`;

            // Update alert decision
            document.getElementById('alert-needed').textContent = results.alertNeeded ? 'Yes' : 'No';
            document.getElementById('alert-level').textContent = results.alertLevel;
            document.getElementById('alert-channels').textContent = getAlertChannels(results.alertLevel);
            document.getElementById('escalation-needed').textContent = results.escalationNeeded ? 'Yes' : 'No';

            // Update recommended actions
            const actions = getRecommendedActions(results);
            document.getElementById('recommended-actions').innerHTML = actions.map(action => `<p>‚Ä¢ ${action}</p>`).join('');

            // Show alert banner if high risk
            if (results.alertNeeded) {
                document.getElementById('alert-banner').classList.add('show');
            }

            // Show results section
            document.getElementById('results-section').style.display = 'block';
        }

        function updateServiceStatus(servicesUsed) {
            const services = ['bedrock', 'comprehend', 'sagemaker', 'fallback'];
            
            services.forEach(service => {
                const element = document.getElementById(`${service}-status`);
                element.classList.remove('active', 'fallback', 'error');
                
                if (servicesUsed[service]) {
                    if (service === 'fallback') {
                        element.classList.add('fallback');
                    } else {
                        element.classList.add('active');
                    }
                } else {
                    element.classList.add('error');
                }
            });
        }

        function getAlertChannels(alertLevel) {
            switch (alertLevel) {
                case 'critical': return 'Email, SMS, Slack, Phone';
                case 'high': return 'Email, Slack';
                case 'medium': return 'Email';
                default: return 'None';
            }
        }

        function getRecommendedActions(results) {
            const actions = [];
            
            if (results.breachProbability > 0.8) {
                actions.push('Immediate escalation to senior support team');
                actions.push('Activate emergency response protocol');
            }
            
            if (results.priority === 'P1') {
                actions.push('Assign to on-call engineer immediately');
                actions.push('Set up war room if needed');
            }
            
            if (results.department === 'UIDAI') {
                actions.push('Notify UIDAI technical team');
                actions.push('Check Aadhaar service status dashboard');
            } else if (results.department === 'MeiTY') {
                actions.push('Contact payment gateway provider');
                actions.push('Monitor transaction success rates');
            } else if (results.department === 'DigitalMP') {
                actions.push('Check portal server health');
                actions.push('Review recent deployments');
            }
            
            if (results.sentiment === 'negative') {
                actions.push('Prioritize customer communication');
                actions.push('Prepare public status update');
            }
            
            if (actions.length === 0) {
                actions.push('Monitor ticket progress');
                actions.push('Follow standard resolution process');
            }
            
            return actions;
        }

        // Initialize with a default example
        window.onload = function() {
            setExample('critical');
        };
    </script>
</body>
</html>